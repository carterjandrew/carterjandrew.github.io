import{j as s}from"./index-BJ6iaevn.js";function a(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...e.components};return s.jsxs(s.Fragment,{children:[s.jsx(n.h1,{id:"motivation-for-self-hosting",children:"Motivation for self hosting"}),`
`,s.jsxs(n.p,{children:["The kindle application is ",s.jsx(n.strong,{children:"amazing"})," it lets you upload books, see them on all your devices, and take great notes in them (something I use a lot)."]}),`
`,s.jsxs(n.p,{children:["However it has a glaring issue that really bugs me:",s.jsx(n.br,{}),`
`,s.jsx(n.strong,{children:"No desktop support"})]}),`
`,s.jsxs(n.p,{children:["Yes, there is a webapp but that ",s.jsx(n.em,{children:"only lets you view books you've bought through amazon"})," ",s.jsx(n.strong,{children:"for some reason"})]}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/amazon-webapp.png",alt:"amazon webapp"})}),`
`,s.jsx(n.p,{children:"^ as you can see here, only some random free books I got as a kid show up... ughhh"}),`
`,s.jsx(n.p,{children:"Even when I run an android emulator on my computer it won't let me run the kindle application meaning I cannot get any of my book content on my deskop."}),`
`,s.jsx(n.p,{children:"On top of this, I'm not exactly enthused with the idea of Amazon having all of my reading data. They could restrict my access to my own content, sell data on what I've been reading, and even tell you my screen time habits."}),`
`,s.jsx(n.h1,{id:"my-solution",children:"My solution"}),`
`,s.jsxs(n.p,{children:[s.jsx(n.em,{children:s.jsx(n.strong,{children:"Disclaimer"})}),`
I `,s.jsx(n.em,{children:"self host"})," whitch means I have a server I can use to host and store this content. If you would be interested in learning how I set that up, drop me a comment or message!"]}),`
`,s.jsxs(n.p,{children:["There exists a couple of modern tools that can work together to get every feature I use from kindle ",s.jsx(n.em,{children:"completely for free"}),". And even, a feature amazon does not have. These are the tools:"]}),`
`,s.jsxs(n.ol,{children:[`
`,s.jsxs(n.li,{children:[s.jsx(n.strong,{children:s.jsx(n.a,{href:"https://github.com/booklore-app/",children:"Booklore"})}),": a library database and webapp service"]}),`
`,s.jsxs(n.li,{children:[s.jsx(n.strong,{children:s.jsx(n.a,{href:"https://pocketbook.ch/en-ch/app",children:"Pocketbook Reader"})}),": a mobile application that can work with booklore"]}),`
`,s.jsxs(n.li,{children:[s.jsx(n.strong,{children:s.jsx(n.a,{href:"https://waydro.id/",children:"Waydroid"})}),": A wayland android emulator (can be replaced with any other android emulator)"]}),`
`]}),`
`,s.jsx(n.p,{children:"I also use a couple of other technologies that make this easier to do:"}),`
`,s.jsxs(n.ol,{children:[`
`,s.jsxs(n.li,{children:[s.jsx(n.strong,{children:s.jsx(n.a,{href:"https://nixos.org/",children:"NixOS"})}),": a operating system that makes it really easy to manage self hosted services like ",s.jsx(n.a,{href:"https://github.com/booklore-app/",children:"Booklore"}),"."]}),`
`,s.jsxs(n.li,{children:[s.jsx(n.strong,{children:s.jsx(n.a,{href:"https://tailscale.com/",children:"Tailscale"})}),": a free vpn connecting all your devices together"]}),`
`]}),`
`,s.jsx(n.h1,{id:"setting-up-booklore",children:"Setting up Booklore"}),`
`,s.jsxs(n.p,{children:[s.jsx(n.a,{href:"https://github.com/booklore-app/booklore/blob/develop/example-docker/docker-compose.yml",children:"Booklore has a sample docker compose service"})," that makes it very easy to start up their service on any computer. For me I used ",s.jsx(n.a,{href:"https://github.com/aksiksi/compose2nix",children:"compose2nix"})," to turn this container into a nix service that can run on my server. The generated module looks like this:"]}),`
`,s.jsx(n.pre,{className:"language-nix",children:s.jsxs(n.code,{className:"language-nix code-highlight",children:[s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token comment",children:"# Auto-generated by compose2nix."}),`
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token punctuation",children:"{"})," pkgs",s.jsx(n.span,{className:"token punctuation",children:","})," lib",s.jsx(n.span,{className:"token punctuation",children:","})," config",s.jsx(n.span,{className:"token punctuation",children:","})," ",s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token punctuation",children:"."})," ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:":"}),`
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token comment",children:"# Runtime"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  virtualisation",s.jsx(n.span,{className:"token punctuation",children:"."}),"podman ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    enable ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token boolean",children:"true"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    autoPrune",s.jsx(n.span,{className:"token punctuation",children:"."}),"enable ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token boolean",children:"true"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    dockerCompat ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token boolean",children:"true"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token comment",children:"# Enable container name DNS for all Podman networks."}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  networking",s.jsx(n.span,{className:"token punctuation",children:"."}),"firewall",s.jsx(n.span,{className:"token punctuation",children:"."}),"interfaces ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token keyword",children:"let"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    matchAll ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token keyword",children:"if"})," ",s.jsx(n.span,{className:"token operator",children:"!"}),"config",s.jsx(n.span,{className:"token punctuation",children:"."}),"networking",s.jsx(n.span,{className:"token punctuation",children:"."}),"nftables",s.jsx(n.span,{className:"token punctuation",children:"."}),"enable ",s.jsx(n.span,{className:"token keyword",children:"then"})," ",s.jsx(n.span,{className:"token string",children:'"podman+"'})," ",s.jsx(n.span,{className:"token keyword",children:"else"})," ",s.jsx(n.span,{className:"token string",children:'"podman*"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token keyword",children:"in"})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsxs(n.span,{className:"token string",children:['"',s.jsxs(n.span,{className:"token interpolation",children:[s.jsx(n.span,{className:"token antiquotation important",children:"$"}),s.jsx(n.span,{className:"token punctuation",children:"{"}),"matchAll",s.jsx(n.span,{className:"token punctuation",children:"}"})]}),'"']}),s.jsx(n.span,{className:"token punctuation",children:"."}),"allowedUDPPorts ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token number",children:"53"})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:["  virtualisation",s.jsx(n.span,{className:"token punctuation",children:"."}),"oci",s.jsx(n.span,{className:"token operator",children:"-"}),"containers",s.jsx(n.span,{className:"token punctuation",children:"."}),"backend ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"podman"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token comment",children:"# Containers"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  virtualisation",s.jsx(n.span,{className:"token punctuation",children:"."}),"oci",s.jsx(n.span,{className:"token operator",children:"-"}),"containers",s.jsx(n.span,{className:"token punctuation",children:"."}),"containers",s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token string",children:'"booklore"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    image ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"booklore/booklore:latest"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    environment ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"BOOKLORE_PORT"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"6060"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"DATABASE_PASSWORD"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"your_secure_password"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"DATABASE_URL"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"jdbc:mariadb://mariadb:3306/booklore"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"DATABASE_USERNAME"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"booklore"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"FORCE_DISABLE_OIDC"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"false"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"GROUP_ID"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"0"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"SWAGGER_ENABLED"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"false"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"TZ"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"Etc/UTC"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"USER_ID"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"0"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    volumes ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"/root/booklore/example-docker/bookdrop:/bookdrop:rw"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"/root/booklore/example-docker/books:/books:rw"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["			",s.jsx(n.span,{className:"token string",children:'"/root/booklore/example-docker/data:/app/data:rw"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ports ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"6060:6060/tcp"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    dependsOn ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"mariadb"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    log",s.jsx(n.span,{className:"token operator",children:"-"}),"driver ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"journald"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    extraOptions ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--network-alias=booklore"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--network=booklore_default"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  systemd",s.jsx(n.span,{className:"token punctuation",children:"."}),"services",s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token string",children:'"podman-booklore"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    serviceConfig ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      Restart ",s.jsx(n.span,{className:"token operator",children:"="})," lib",s.jsx(n.span,{className:"token punctuation",children:"."}),"mkOverride ",s.jsx(n.span,{className:"token number",children:"90"})," ",s.jsx(n.span,{className:"token string",children:'"always"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    after ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-network-booklore_default.service"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    requires ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-network-booklore_default.service"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    partOf ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-compose-booklore-root.target"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    wantedBy ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-compose-booklore-root.target"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  virtualisation",s.jsx(n.span,{className:"token punctuation",children:"."}),"oci",s.jsx(n.span,{className:"token operator",children:"-"}),"containers",s.jsx(n.span,{className:"token punctuation",children:"."}),"containers",s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token string",children:'"mariadb"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    image ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"lscr.io/linuxserver/mariadb:11.4.5"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    environment ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"MYSQL_DATABASE"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"booklore"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"MYSQL_PASSWORD"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"your_secure_password"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"MYSQL_ROOT_PASSWORD"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"super_secure_password"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"MYSQL_USER"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"booklore"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["			      ",s.jsx(n.span,{className:"token string",children:'"PGID"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"1000"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"PUID"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"1000"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"TZ"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"Etc/UTC"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    volumes ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"/root/booklore/example-docker/config:/config:rw"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    log",s.jsx(n.span,{className:"token operator",children:"-"}),"driver ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"journald"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    extraOptions ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--health-cmd=[\\"mariadb-admin\\", \\"ping\\", \\"-h\\", \\"localhost\\"]"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--health-interval=5s"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--health-retries=10"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--health-timeout=5s"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--network-alias=mariadb"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"--network=booklore_default"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  systemd",s.jsx(n.span,{className:"token punctuation",children:"."}),"services",s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token string",children:'"podman-mariadb"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    serviceConfig ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      Restart ",s.jsx(n.span,{className:"token operator",children:"="})," lib",s.jsx(n.span,{className:"token punctuation",children:"."}),"mkOverride ",s.jsx(n.span,{className:"token number",children:"90"})," ",s.jsx(n.span,{className:"token string",children:'"always"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    after ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-network-booklore_default.service"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    requires ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-network-booklore_default.service"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    partOf ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-compose-booklore-root.target"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    wantedBy ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ",s.jsx(n.span,{className:"token string",children:'"podman-compose-booklore-root.target"'}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token comment",children:"# Networks"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  systemd",s.jsx(n.span,{className:"token punctuation",children:"."}),"services",s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token string",children:'"podman-network-booklore_default"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    path ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," pkgs",s.jsx(n.span,{className:"token punctuation",children:"."}),"podman ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["		    serviceConfig ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      Type ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"oneshot"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      RemainAfterExit ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token boolean",children:"true"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      ExecStop ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"podman network rm -f booklore_default"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    script ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:`''
`})]}),s.jsx(n.span,{className:"code-line",children:s.jsx(n.span,{className:"token string",children:`      podman network inspect booklore_default || podman network create booklore_default
`})}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token string",children:"    ''"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    partOf ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token string",children:'"podman-compose-booklore-root.target"'})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    wantedBy ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token string",children:'"podman-compose-booklore-root.target"'})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token comment",children:"# Root service"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token comment",children:"# When started, this will automatically create all resources and start"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token comment",children:"# the containers. When stopped, this will teardown all resources."}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  systemd",s.jsx(n.span,{className:"token punctuation",children:"."}),"targets",s.jsx(n.span,{className:"token punctuation",children:"."}),s.jsx(n.span,{className:"token string",children:'"podman-compose-booklore-root"'})," ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    unitConfig ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["      Description ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"Root target generated by compose2nix."'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    wantedBy ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token string",children:'"multi-user.target"'})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["	",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token punctuation",children:"}"}),`
`]})]})}),`
`,s.jsx(n.p,{children:"This module requires we create a couple of direcories on the host machine:"}),`
`,s.jsxs(n.ul,{children:[`
`,s.jsx(n.li,{children:s.jsx(n.code,{children:"/root/booklore/example-docker/bookdrop"})}),`
`,s.jsx(n.li,{children:s.jsx(n.code,{children:"/root/booklore/example-docker/books"})}),`
`,s.jsx(n.li,{children:s.jsx(n.code,{children:"/root/booklore/example-docker/data"})}),`
`,s.jsx(n.li,{children:s.jsx(n.code,{children:"/root/booklore/example-docker/config"})}),`
`]}),`
`,s.jsx(n.p,{children:"So you could run"}),`
`,s.jsx(n.pre,{className:"language-bash",children:s.jsxs(n.code,{className:"language-bash code-highlight",children:[s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"mkdir"}),` /root/booklore/example-docker/bookdrop
`]}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"chown"}),` booklore /root/booklore/example-docker/bookdrop
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"mkdir"}),` /root/booklore/example-docker/books
`]}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"chown"}),` booklore /root/booklore/example-docker/books
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"mkdir"}),` /root/booklore/example-docker/data
`]}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"chown"}),` booklore /root/booklore/example-docker/data
`]}),s.jsx(n.span,{className:"code-line",children:`
`}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"mkdir"}),` /root/booklore/example-docker/config
`]}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"chown"}),` booklore /root/booklore/example-docker/config
`]})]})}),`
`,s.jsxs(n.p,{children:["to set these up.",s.jsx(n.br,{}),`
`,"Then add the booklore module to the list of imports on your ",s.jsx(n.code,{children:"configuration.nix"})," file"]}),`
`,s.jsxs(n.p,{children:["Now on ",s.jsx(n.code,{children:"localhost:6060"})," you have a booklore port runing. If you ssh into your computer runnning the service like:"]}),`
`,s.jsx(n.pre,{className:"language-bash",children:s.jsx(n.code,{className:"language-bash code-highlight",children:s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token function",children:"ssh"})," ",s.jsx(n.span,{className:"token parameter variable",children:"-L"})," ",s.jsx(n.span,{className:"token number",children:"6060"}),`:localhost:6060 user@your-computer
`]})})}),`
`,s.jsx(n.p,{children:"you will be able to see your service running"}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/booklore-local.png",alt:"booklore-service"})}),`
`,s.jsx(n.p,{children:"Cool right??? The people at booklore do cool stuff."}),`
`,s.jsx(n.h2,{id:"accessing-that-content-through-a-url",children:"Accessing that content through a url"}),`
`,s.jsxs(n.p,{children:["We don't want to be reliant on the proxy in ssh to access booklore, so we can use ",s.jsx(n.a,{href:"https://tailscale.com/",children:"Tailscale"})," to serve this content so ",s.jsxs(n.em,{children:["any computer connected to ",s.jsx(n.strong,{children:"your"})," tailscale vpn can see it"]})]}),`
`,s.jsx(n.p,{children:"This can be done through the command line on the computer serving our booklore content like this:"}),`
`,s.jsx(n.pre,{className:"language-bash",children:s.jsx(n.code,{className:"language-bash code-highlight",children:s.jsxs(n.span,{className:"code-line",children:["tailscale serve ",s.jsx(n.span,{className:"token parameter variable",children:"--https"}),s.jsx(n.span,{className:"token operator",children:"="}),s.jsx(n.span,{className:"token number",children:"6060"})," ",s.jsx(n.span,{className:"token parameter variable",children:"--bg"}),` http://localhost:6060
`]})})}),`
`,s.jsx(n.p,{children:"or it can be set up in a background service like this:"}),`
`,s.jsx(n.pre,{className:"language-nix",children:s.jsxs(n.code,{className:"language-nix code-highlight",children:[s.jsxs(n.span,{className:"code-line",children:["systemd",s.jsx(n.span,{className:"token punctuation",children:"."}),"services",s.jsx(n.span,{className:"token punctuation",children:"."}),"tailscale",s.jsx(n.span,{className:"token operator",children:"-"}),"serve",s.jsx(n.span,{className:"token operator",children:"-"}),"booklore ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  description ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"Configure Tailscale Serve for Booklore"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  after ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token string",children:'"network-online.target"'})," ",s.jsx(n.span,{className:"token string",children:'"tailscaled.service"'})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  wants ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token string",children:'"network-online.target"'})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  requires ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token string",children:'"tailscaled.service"'})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  wantedBy ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"["})," ",s.jsx(n.span,{className:"token string",children:'"multi-user.target"'})," ",s.jsx(n.span,{className:"token punctuation",children:"]"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  serviceConfig ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token punctuation",children:"{"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    Type ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token string",children:'"oneshot"'}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    RemainAfterExit ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsx(n.span,{className:"token boolean",children:"true"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ExecStart ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsxs(n.span,{className:"token string",children:['"',s.jsxs(n.span,{className:"token interpolation",children:[s.jsx(n.span,{className:"token antiquotation important",children:"$"}),s.jsx(n.span,{className:"token punctuation",children:"{"}),"pkgs",s.jsx(n.span,{className:"token punctuation",children:"."}),"tailscale",s.jsx(n.span,{className:"token punctuation",children:"}"})]}),'/bin/tailscale serve --https=6060 --bg http://localhost:6060"']}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["    ExecStop ",s.jsx(n.span,{className:"token operator",children:"="})," ",s.jsxs(n.span,{className:"token string",children:['"',s.jsxs(n.span,{className:"token interpolation",children:[s.jsx(n.span,{className:"token antiquotation important",children:"$"}),s.jsx(n.span,{className:"token punctuation",children:"{"}),"pkgs",s.jsx(n.span,{className:"token punctuation",children:"."}),"tailscale",s.jsx(n.span,{className:"token punctuation",children:"}"})]}),'/bin/tailscale serve --unset-http=6060"']}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["  ",s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:[s.jsx(n.span,{className:"token punctuation",children:"}"}),s.jsx(n.span,{className:"token punctuation",children:";"}),`
`]})]})}),`
`,s.jsx(n.p,{children:"now if you run"}),`
`,s.jsx(n.pre,{className:"language-bash",children:s.jsx(n.code,{className:"language-bash code-highlight",children:s.jsx(n.span,{className:"code-line",children:`tailscale serve status
`})})}),`
`,s.jsx(n.p,{children:"you should see:"}),`
`,s.jsx(n.pre,{className:"language-bash",children:s.jsxs(n.code,{className:"language-bash code-highlight",children:[s.jsxs(n.span,{className:"code-line",children:["https://your-device.tail9e820.ts.net:6060 ",s.jsx(n.span,{className:"token punctuation",children:"("}),"tailnet only",s.jsx(n.span,{className:"token punctuation",children:")"}),`
`]}),s.jsxs(n.span,{className:"code-line",children:["	",s.jsx(n.span,{className:"token operator",children:"|"}),`-- / proxy http://localhost:6060
`]})]})}),`
`,s.jsx(n.p,{children:"Now we if we our booklore service online!"}),`
`,s.jsx(n.h1,{id:"setting-up-booklore-opds",children:"Setting up booklore OPDS"}),`
`,s.jsxs(n.blockquote,{children:[`
`,s.jsx(n.p,{children:"OPDS (Open Publication Distribution System) is a standard that enables an open and decentralized distribution network for any digital media."}),`
`]}),`
`,s.jsx(n.p,{children:"This will let us connect our mobile apps to our Booklore library."}),`
`,s.jsx(n.p,{children:"Here are the steps:"}),`
`,s.jsx(n.h3,{id:"1-open-the-booklore-website",children:"1. Open the booklore website"}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/booklore-home.png",alt:"booklore-website"})}),`
`,s.jsx(n.h3,{id:"2-navigate-to-settings",children:"2. Navigate to settings"}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/settings-icon.png",alt:"booklore-website"})}),`
`,s.jsx(n.h3,{id:"3-enable-opds-endpoint",children:"3. Enable OPDS Endpoint"}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/opds-options.png",alt:"OPDS Endpoint"})}),`
`,s.jsx(n.h3,{id:"4-enable-opds-and-create-a-opds-user",children:"4. Enable OPDS and create a OPDS user"}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/opds-user.png",alt:"OPDS User"})}),`
`,s.jsx(n.h1,{id:"adding-it-to-pocketbook",children:"Adding it to PocketBook"}),`
`,s.jsxs(n.p,{children:["*",s.jsx(n.strong,{children:"Disclaimer"}),`:
If you followed the tailscale setup your mobile device will need the tailscale app downloaded and installed on the system`]}),`
`,s.jsxs(n.p,{children:["Now you will need to install the ",s.jsx(n.a,{href:"https://pocketbook.ch/en-ch/app",children:"Pocketbook app"})," on your mobile device and set it up."]}),`
`,s.jsx(n.h2,{id:"setting-up-the-remote-library",children:"Setting up the remote library"}),`
`,s.jsx(n.p,{children:"Here is how to link the remote library to Pocketbook:"}),`
`,s.jsx(n.h3,{id:"open-the-books-page",children:"Open the books page."}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/home.png",alt:"Globe icon"})}),`
`,s.jsx(n.h3,{id:"click-on-the-globe-icon",children:"Click on the globe icon"}),`
`,s.jsxs(n.p,{children:[s.jsx(n.img,{src:"/booklore/globe-icon.jpg",alt:"Globe icon"}),`
This is the category for remote libraries`]}),`
`,s.jsx(n.h3,{id:"click-the-add-new-icon",children:"Click the add new icon"}),`
`,s.jsxs(n.p,{children:[s.jsx(n.img,{src:"/booklore/network-libraries.jpg",alt:"Globe icon"}),`
For android this is a plus folder icon, for ios this is a plus icon`]}),`
`,s.jsx(n.h3,{id:"fill-out-the-form",children:"Fill out the form"}),`
`,s.jsxs(n.p,{children:[s.jsx(n.em,{children:s.jsx(n.strong,{children:"Note"})}),`:
On android only the `,s.jsx(n.code,{children:"url"})," and ",s.jsx(n.code,{children:"name"})," fields show up until you've added the library and ",s.jsx(n.em,{children:"clicked into it"})]}),`
`,s.jsxs(n.p,{children:[s.jsx(n.strong,{children:"URL Field"}),":"]}),`
`,s.jsxs(n.p,{children:[`You can find the URL under the OPDS settings in your booklore account
`,s.jsx(n.img,{src:"/booklore/booklore-opds-url.png",alt:"OPDS URL"})]}),`
`,s.jsxs(n.p,{children:[s.jsx(n.strong,{children:"Name"}),":"]}),`
`,s.jsxs(n.p,{children:["I just called it ",s.jsx(n.code,{children:"Booklore"})," but you can put whatever"]}),`
`,s.jsxs(n.p,{children:[s.jsx(n.strong,{children:"Username and Password"}),":"]}),`
`,s.jsx(n.p,{children:"Insert the username and password of the OPDS user you created"}),`
`,s.jsx(n.p,{children:"Now your library contents should show up in the application!"}),`
`,s.jsx(n.p,{children:s.jsx(n.img,{src:"/booklore/pocketbook-books.png",alt:"Pocketbook books"})}),`
`,s.jsx(n.h2,{id:"setting-up-a-pocketbook-account-for-note-syncing",children:"Setting up a Pocketbook account for note syncing"}),`
`,s.jsx(n.p,{children:"Now, if you would like, you can also set up Pocketbook to sync any notes, highlight, bookmarks you take on your books using one of their Pocketbook accounts."}),`
`,s.jsx(n.p,{children:"To do this simply go into settings in pocketbook, click to add a Pocketbook Cloud account. As long as you choose to not upload recently read books this will only sync the notes, not the books themselves."}),`
`,s.jsx(n.h1,{id:"setting-up-a-reader-on-a-deskop",children:"Setting up a reader on a deskop"}),`
`,s.jsx(n.p,{children:"Pocketbook does not have a native desktop application, but it is simple enough to run in an android emulator. For me, I use Arch Linux for my operating system and with KDE6 as my desktop enviment it's ideal to use Waydroid for my machine."}),`
`,s.jsx(n.p,{children:s.jsx(n.a,{href:"https://wiki.archlinux.org/title/Waydroid#Installation",children:"Guide for installing waydroid on arch"})}),`
`,s.jsx(n.h3,{id:"installing-f-droid",children:"Installing F-Droid"}),`
`,s.jsxs(n.blockquote,{children:[`
`,s.jsx(n.p,{children:"F-Droid is an installable catalogue of FOSS (Free and Open Source Software) applications for the Android platform. The client makes it easy to browse, install, and keep track of updates on your device."}),`
`]}),`
`,s.jsxs(n.p,{children:["We can first ",s.jsx(n.a,{href:"https://f-droid.org/",children:"download it from here"})," and then run"]}),`
`,s.jsx(n.pre,{className:"language-bash",children:s.jsx(n.code,{className:"language-bash code-highlight",children:s.jsxs(n.span,{className:"code-line",children:["waydroid app ",s.jsx(n.span,{className:"token function",children:"install"})," ",s.jsx(n.span,{className:"token variable",children:"$path_to_apk"}),`
`]})})}),`
`,s.jsx(n.p,{children:"to install the f-droid apk."}),`
`,s.jsx(n.h3,{id:"installing-auroura-store",children:"Installing Auroura Store"}),`
`,s.jsxs(n.blockquote,{children:[`
`,s.jsx(n.p,{children:"Aurora Store is a Yalp Store fork (Yalp Store is also available on Uptodown) that offers basically all the same features, but from a much more elegant and functional interface. Although its a fork, its basically the same app, and allows you to download any APK offer on Google Play without a google play account."}),`
`]}),`
`,s.jsxs(n.p,{children:["Opening f-droid lets us search for ",s.jsx(n.code,{children:"Aurora Store"})," and install the application"]}),`
`,s.jsxs(n.p,{children:["Now you can open Aroura store and search for ",s.jsx(n.code,{children:"Pocketbook"})," to install that. The process should be the same from there to set up pocketbook"]}),`
`,s.jsx(n.h1,{id:"conclusion",children:"Conclusion"}),`
`,s.jsx(n.p,{children:"This gives you a application that can:"}),`
`,s.jsxs(n.ol,{children:[`
`,s.jsx(n.li,{children:"download your books from a centralized place"}),`
`,s.jsx(n.li,{children:"sync the notes, bookmarks, and highlights you make"}),`
`,s.jsx(n.li,{children:"and do so across all your devices"}),`
`,s.jsx(n.li,{children:"completely for free"}),`
`]}),`
`,s.jsx(n.p,{children:"I've been loving using it. Hope you do too. Huge thanks to everyone who makes these incredible tools used in this tutorial. Reach out, or drop a comment if you have any questions!"})]})}function c(e={}){const{wrapper:n}=e.components||{};return n?s.jsx(n,{...e,children:s.jsx(a,{...e})}):a(e)}export{c as default};
